//
// !Helpers: provide common "behaviors"
// ====================================
//

// !clear(@clear: both) — Apply on floats parent
.clear(@clear: both) {
  & { *zoom: 1 }
  &:after {
    clear: @clear;
    content: @utf-nbsp;
    display: block;
    height: 0;
  }
}

// !margin-collapse([bottom|top])
.margin-collapse() {
  .margin-collapse(bottom);
  .margin-collapse(top);
}
.margin-collapse(top) {
  &:before {
    content: @utf-nbsp;
    display: block;
    height: 0;
  }
}
.margin-collapse(bottom) {
  &:after {
    content: @utf-nbsp;
    display: block;
    height: 0;
  }
}

// !oust() — OutSight
.oust() {
  border: none;
  clip: rect(0 0 0 0);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
}
.oust(text) {
  overflow: hidden;
  text-indent: 100%;
  white-space: nowrap;
}

// Absolute position an element by top, right, bottom and left
.pin(@rest,...) {
  position: absolute;
}
.pin(@pos) {
  top: @pos;
  right: @pos;
  bottom: @pos;
  left: @pos;
}
.pin(@y, @x) {
  top: @y;
  right: @x;
  bottom: @y;
  left: @x;
}
.pin(@top, @right, @bottom) {
  top: @top;
  right: @right;
  bottom: @bottom;
  left: @right;
}
.pin(@top, @right, @bottom, @left) {
  top: @top;
  right: @right;
  bottom: @bottom;
  left: @left;
}

// Absolute position an element by left or right and top or bottom
.pos(@rest,...) {
  position: absolute;
}
.pos(@pos) {
  .pos(@pos, @pos, top left);
}
.pos(@x, @y) {
  .pos(@x, @y, top left);
}
.pos(@x, @y, @pos) when not (@pos = right) and not (@pos = ~'right top') and not (@pos = ~'right bottom') and not (@pos = ~'top right') and not (@pos = ~'bottom right') {
  left: @x;
}
.pos(@x, @y, @pos) when (@pos = right), (@pos = ~'right top'), (@pos = ~'right bottom'), (@pos = ~'top right'), (@pos = ~'bottom right') {
  right: @x;
}
.pos(@x, @y, @pos) when not (@pos = bottom) and not (@pos = ~'bottom left') and not (@pos = ~'bottom right') and not (@pos = ~'left bottom') and not (@pos = ~'right bottom') {
  top: @y;
}
.pos(@x, @y, @pos) when (@pos = bottom), (@pos = ~'bottom left'), (@pos = ~'bottom right'), (@pos = ~'left bottom'), (@pos = ~'right bottom') {
  bottom: @y;
}

// Relative position an element by left or right and top or bottom
.move(@rest,...) {
  position: relative;
}
.move(@pos) {
  .move(@pos, @pos, top left)
}
.move(@x, @y) {
  .move(@x, @y, top left)
}
.move(@x, @y, @pos) when not (@pos = right) and not (@pos = ~'right top') and not (@pos = ~'right bottom') and not (@pos = ~'top right') and not (@pos = ~'bottom right') {
  left: @x;
}
.move(@x, @y, @pos) when (@pos = right), (@pos = ~'right top'), (@pos = ~'right bottom'), (@pos = ~'top right'), (@pos = ~'bottom right') {
  right: @x;
}
.move(@x, @y, @pos) when not (@pos = bottom) and not (@pos = ~'bottom left') and not (@pos = ~'bottom right') and not (@pos = ~'left bottom') and not (@pos = ~'right bottom') {
  top: @y;
}
.move(@x, @y, @pos) when (@pos = bottom), (@pos = ~'bottom left'), (@pos = ~'bottom right'), (@pos = ~'left bottom'), (@pos = ~'right bottom') {
  bottom: @y;
}

// Set size of an element
.size(@size) {
  height: @size;
  width: @size;
}
.size(@width, @height) {
  height: @height;
  width: @width;
}

// !scroll([x|y:y,] @other: auto)
.scroll(@x: auto) when not (@x = x) and not(@x = y) {
  .scroll(y, @x);
}
.scroll(x, @y: auto) {
  overflow-x: scroll;
  overflow-y: @y;
  overflow: -moz-scrollbars-horizontal;
}
.scroll(y, @x: auto) {
  overflow-x: @x;
  overflow-y: scroll;
  overflow: -moz-scrollbars-vertical;
}